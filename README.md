**–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ä–æ–∑–ª–∏–≤—É –Ω–∞–ø–æ—ó–≤ –Ω–∞ –±–∞–∑—ñ ESP32**

üá∫üá¶ **–°–ª–∞–≤–∞ –£–∫—Ä–∞—ó–Ω—ñ!** üá∫üá¶

---

## üìã –ó–º—ñ—Å—Ç

- [–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ](#–æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ)
- [–ê–ø–∞—Ä–∞—Ç–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞](#–∞–ø–∞—Ä–∞—Ç–Ω–∞-—á–∞—Å—Ç–∏–Ω–∞)
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
- [–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è](#–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)
- [–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è](#–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
- [–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å](#–≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- [API](#api)
- [–ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è](#–∫–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è)
- [Troubleshooting](#troubleshooting)

---

## ‚ú® –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### üéØ –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ **5 —Ä—é–º–æ–∫** –∑ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–º–∏ –¥–∞—Ç—á–∏–∫–∞–º–∏
- ‚úÖ **–†—É—á–Ω–∏–π** —Ç–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π** —Ä–µ–∂–∏–º–∏ —Ä–æ–∑–ª–∏–≤—É
- ‚úÖ –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –æ–±'—î–º –¥–ª—è –∫–æ–∂–Ω–æ—ó —Ä—é–º–∫–∏ (10-200 –º–ª)
- ‚úÖ –ü—Ä–æ–∫–∞—á–∫–∞ —Å–∏—Å—Ç–µ–º–∏ (–¥–æ–≤–≥–µ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –µ–Ω–∫–æ–¥–µ—Ä–∞)
- ‚úÖ –ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è –ø–æ–º–ø–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—é
- ‚úÖ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∑–∞—Ä—è–¥—É –∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- ‚úÖ –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑ WebSocket
- ‚úÖ OTA –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—à–∏–≤–∫–∏
- ‚úÖ WiFi –º–µ–Ω–µ–¥–∂–µ—Ä (–ø–µ—Ä—à–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è)

### üñ•Ô∏è –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–∏—Å–ø–ª–µ—ó–≤
- **TFT:** ST7789 (LILYGO T4), ILI9341 (240x320)
- **OLED:** SSD1306 (0.96", 1.3"), SSD1309, SH1106

### üé® –ê–Ω—ñ–º–∞—Ü—ñ—ó
- üá∫üá¶ –°—Ç–∞—Ä—Ç–æ–≤–∞ –∞–Ω—ñ–º–∞—Ü—ñ—è –∑ –ø—Ä–∞–ø–æ—Ä–æ–º –£–∫—Ä–∞—ó–Ω–∏ —Ç–∞ –Ω–∞–ø–∏—Å–æ–º "–°–ª–∞–≤–∞ –£–∫—Ä–∞—ó–Ω—ñ!"
- üåà LED –∞–Ω—ñ–º–∞—Ü—ñ—ó –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å—Ç–∞–Ω—ñ–≤
- üí° –°—Ç–∞—Ç—É—Å-—Å–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥ –¥–ª—è —ñ–Ω–¥–∏–∫–∞—Ü—ñ—ó —Ä–µ–∂–∏–º—ñ–≤
- ‚ú® –ê–Ω—ñ–º–∞—Ü—ñ—ó –ø–æ—á–∞—Ç–∫—É —Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–∑–ª–∏–≤—É

### üîã –ê–≤—Ç–æ–Ω–æ–º–Ω—ñ—Å—Ç—å
- –ñ–∏–≤–ª–µ–Ω–Ω—è –≤—ñ–¥ –∞–∫—É–º—É–ª—è—Ç–æ—Ä–∞ (3.3V - 4.2V)
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–ø—Ä—É–≥–∏ —Ç–∞ –≤—ñ–¥—Å–æ—Ç–∫–∞ –∑–∞—Ä—è–¥—É
- –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ –∫—Ä–∏—Ç–∏—á–Ω–∏–π –∑–∞—Ä—è–¥

### üéõÔ∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- **–ï–Ω–∫–æ–¥–µ—Ä:** –ó–º—ñ–Ω–∞ –æ–±'—î–º—É, –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è –º–µ–Ω—é
- **–ö–Ω–æ–ø–∫–∞ –µ–Ω–∫–æ–¥–µ—Ä–∞:** 
  - –ö–æ—Ä–æ—Ç–∫–µ: –≤–∏–±—ñ—Ä —Ä—é–º–∫–∏ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
  - –î–æ–≤–≥–µ: –ø—Ä–æ–∫–∞—á–∫–∞ (—Ç—ñ–ª—å–∫–∏ –≤ —Ä—É—á–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ)
- **–ö–Ω–æ–ø–∫–∞ START:**
  - –ö–æ—Ä–æ—Ç–∫–µ: —Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø —Ä–æ–∑–ª–∏–≤—É
  - –î–æ–≤–≥–µ (0.5 —Å–µ–∫): –∑–º—ñ–Ω–∞ —Ä–µ–∂–∏–º—É Manual ‚Üî Auto

### üîß –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫—Ä–æ–∫–æ–≤–æ

–≥–æ –¥–≤–∏–≥—É–Ω–∞ –∑–∞–º—ñ—Å—Ç—å —Å–µ—Ä–≤–æ
- FreeRTOS –±–∞–≥–∞—Ç–æ–∑–∞–¥–∞—á–Ω—ñ—Å—Ç—å (3 –∑–∞–¥–∞—á—ñ –Ω–∞ 2 —è–¥—Ä–∞—Ö)
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —É EEPROM
- Serial –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
- –ï–∫—Å–ø–æ—Ä—Ç/—ñ–º–ø–æ—Ä—Ç –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —á–µ—Ä–µ–∑ JSON

---

## üîå –ê–ø–∞—Ä–∞—Ç–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞

### –û—Å–Ω–æ–≤–Ω–∞ –ø–ª–∞—Ç–∞
- **ESP32** (LILYGO T4 –∞–±–æ –∞–Ω–∞–ª–æ–≥)
- **RAM:** 520 KB SRAM + 4 MB PSRAM
- **Flash:** 4 MB –∞–±–æ –±—ñ–ª—å—à–µ

### –î–∏—Å–ø–ª–µ–π
**–í–∏–±–µ—Ä—ñ—Ç—å –æ–¥–∏–Ω –∑:**
- TFT ST7789 1.14" 135x240 (LILYGO T4 –≤–±—É–¥–æ–≤–∞–Ω–∏–π)
- TFT ILI9341 2.4" 240x320
- OLED SSD1306 0.96" 128x64
- OLED SSD1306 1.3" 128x64
- OLED SH1106 1.3" 128x64

### –ü–µ—Ä–∏—Ñ–µ—Ä—ñ—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | GPIO | –û–ø–∏—Å |
|-----------|------|------|
| **–ï–Ω–∫–æ–¥–µ—Ä CLK** | 13 | –û–±–µ—Ä—Ç–∞–Ω–Ω—è |
| **–ï–Ω–∫–æ–¥–µ—Ä DT** | 15 | –ù–∞–ø—Ä—è–º–æ–∫ |
| **–ï–Ω–∫–æ–¥–µ—Ä SW** | 0 | –ö–Ω–æ–ø–∫–∞ (Boot) |
| **–ö–Ω–æ–ø–∫–∞ START** | 37 | –°—Ç–∞—Ä—Ç/–°—Ç–æ–ø |
| **–ü–æ–º–ø–∞** | 33 | PWM –∫–µ—Ä—É–≤–∞–Ω–Ω—è |
| **–°–µ—Ä–≤–æ –∂–∏–≤–ª–µ–Ω–Ω—è** | 25 | 5V –¥–ª—è —Å–µ—Ä–≤–æ |
| **–°–µ—Ä–≤–æ —Å–∏–≥–Ω–∞–ª** | 26 | PWM —Å–∏–≥–Ω–∞–ª |
| **LED —Å—Ç—Ä—ñ—á–∫–∞** | 12 | WS2812B (10 LED) |
| **–ë–∞—Ç–∞—Ä–µ—è ADC** | 34 | –í–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è –Ω–∞–ø—Ä—É–≥–∏ |
| **–î–∞—Ç—á–∏–∫ 1** | 35 | –†—é–º–∫–∞ 1 |
| **–î–∞—Ç—á–∏–∫ 2** | 36 | –†—é–º–∫–∞ 2 |
| **–î–∞—Ç—á–∏–∫ 3** | 37 | –†—é–º–∫–∞ 3 |
| **–î–∞—Ç—á–∏–∫ 4** | 38 | –†—é–º–∫–∞ 4 |
| **–î–∞—Ç—á–∏–∫ 5** | 39 | –†—é–º–∫–∞ 5 |

### –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ (–∫—Ä–æ–∫–æ–≤–∏–π –¥–≤–∏–≥—É–Ω)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | GPIO |
|-----------|------|
| **STEP** | 27 |
| **DIR** | 14 |
| **EN** | 12 |

---

## üì• –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
git clone https://github.com/yourusername/gyverdrink-pro.git
cd gyverdrink-pro
```

### –ö—Ä–æ–∫ 2: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è PlatformIO
```bash
pip install platformio
```

### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è config.h

–í—ñ–¥–∫—Ä–∏–π—Ç–µ `src/config.h` —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ:

```cpp
// –í–∏–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –¥–∏—Å–ø–ª–µ—è (—Ä–æ–∑–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ –û–î–ò–ù)
#define DISPLAY_ST7789         // LILYGO T4
// #define DISPLAY_SSD1306_096 // OLED 0.96"
// #define DISPLAY_ILI9341     // TFT 2.4"

// –£–≤—ñ–º–∫–Ω—ñ—Ç—å WiFi
#define ENABLE_WIFI 1

// –£–≤—ñ–º–∫–Ω—ñ—Ç—å OTA
#define ENABLE_OTA 1

// –°—Ç–∞—Ç—É—Å LED
#define STATUS_LED 1

// –ö—Ä–æ–∫–æ–≤–∏–π –¥–≤–∏–≥—É–Ω (0 = —Å–µ—Ä–≤–æ, 1 = stepper)
#define ENABLE_STEPPER 0
```

### –ö—Ä–æ–∫ 4: –ó–±—ñ—Ä–∫–∞ —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

**–î–ª—è LILYGO T4:**
```bash
pio run -e lilygo-t4 -t upload
```

**–î–ª—è —ñ–Ω—à–∏—Ö –¥–∏—Å–ø–ª–µ—ó–≤:**
```bash
# OLED SSD1306 0.96"
pio run -e oled-ssd1306-096 -t upload

# OLED SH1106
pio run -e oled-sh1106 -t upload
```

**Debug —Ä–µ–∂–∏–º:**
```bash
pio run -e lilygo-t4-debug -t upload
pio device monitor
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### WiFi –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

#### –ü–µ—Ä—à–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
1. –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è WiFi —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø—É:
   - **SSID:** `GyverDrink-Setup`
   - **–ü–∞—Ä–æ–ª—å:** `12345678`
2. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ –Ω–µ—ó
3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://192.168.4.1/wifi`
4. –í–≤–µ–¥—ñ—Ç—å –¥–∞–Ω—ñ –≤–∞—à–æ—ó WiFi –º–µ—Ä–µ–∂—ñ
5. –ü—Ä–∏—Å—Ç—Ä—ñ–π –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è —Ç–∞ –ø—ñ–¥–∫–ª—é—á–∏—Ç—å—Å—è

#### –°–∫–∏–¥–∞–Ω–Ω—è WiFi
```cpp
// Serial –∫–æ–º–∞–Ω–¥–∞
wifi reset
```

### –ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è –ø–æ–º–ø–∏

1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `calibrate` –≤ Serial –∞–±–æ —á–µ—Ä–µ–∑ –º–µ–Ω—é
2. –ü–æ—Å—Ç–∞–≤—Ç–µ –º—ñ—Ä–Ω—É —î–º–Ω—ñ—Å—Ç—å
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å START
4. –ü–æ–º–ø–∞ –Ω–∞–ª—å—î 100 –º–ª
5. –í–∏–º—ñ—Ä—è–π—Ç–µ —Ä–µ–∞–ª—å–Ω–∏–π –æ–±'—î–º
6. –í–≤–µ–¥—ñ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
7. –°–∏—Å—Ç–µ–º–∞ –∑–±–µ—Ä–µ–∂–µ—á–∏—Å–ª–æ –º–ª/—Å–µ–∫

**–§–æ—Ä–º—É–ª–∞:**
```
ml_per_sec = (—Ñ–∞–∫—Ç–∏—á–Ω–∏–π_–æ–±'—î–º / 100) * –ø–æ—Ç–æ—á–Ω–µ_–∑–Ω–∞—á–µ–Ω–Ω—è
```

---

## üéÆ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –†—É—á–Ω–∏–π —Ä–µ–∂–∏–º (MANUAL)

1. **–ü–æ—Å—Ç–∞–≤—Ç–µ —Ä—é–º–∫—É** ‚Üí –¥–∞—Ç—á–∏–∫ –≤–∏–∑–Ω–∞—á–∏—Ç—å —ó—ó
2. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –æ–±'—î–º** ‚Üí –ø–æ–∫—Ä—É—Ç—ñ—Ç—å –µ–Ω–∫–æ–¥–µ—Ä
3. **–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å START** ‚Üí –ø–æ—á–Ω–µ—Ç—å—Å—è —Ä–æ–∑–ª–∏–≤
4. **–ó–Ω–æ–≤—É START** ‚Üí –∑—É–ø–∏–Ω–∏—Ç—å —Ä–æ–∑–ª–∏–≤

**–Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω—ñ –æ–±'—î–º–∏:**
- –ü–æ—Å—Ç–∞–≤—Ç–µ **2+ —Ä—é–º–æ–∫**
- **–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –µ–Ω–∫–æ–¥–µ—Ä** ‚Üí –≤–∏–±–µ—Ä—ñ—Ç—å —Ä—é–º–∫—É (–ø—ñ–¥—Å–≤—ñ—Ç–∏—Ç—å—Å—è)
- **–ü–æ–∫—Ä—É—Ç—ñ—Ç—å –µ–Ω–∫–æ–¥–µ—Ä** ‚Üí –∑–º—ñ–Ω—ñ—Ç—å –æ–±'—î–º –¥–ª—è —Ü—ñ—î—ó —Ä—é–º–∫–∏
- **–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∑–Ω–æ–≤—É** ‚Üí –Ω–∞—Å—Ç—É–ø–Ω–∞ —Ä—é–º–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–∂–∏–º (AUTO)

1. **–î–æ–≤–≥–µ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è START** (0.5 —Å–µ–∫) ‚Üí –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤ AUTO
2. **–ü–æ—Å—Ç–∞–≤—Ç–µ —Ä—é–º–∫—É** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ—á–Ω–µ—Ç—å—Å—è —Ä–æ–∑–ª–∏–≤
3. **–ó–Ω—ñ–º—ñ—Ç—å —Ä—é–º–∫—É** ‚Üí –∫—Ä–∞–Ω –ø–æ–≤–µ—Ä–Ω–µ—Ç—å—Å—è –≤ –ø–∞—Ä–∫—ñ–Ω–≥
4. –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å –¥–ª—è —ñ–Ω—à–∏—Ö —Ä—é–º–æ–∫

### –ü—Ä–æ–∫–∞—á–∫–∞

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ —Ä–µ–∂–∏–º **MANUAL**
2. –ü–æ—Å—Ç–∞–≤—Ç–µ **1 —Ä—é–º–∫—É**
3. **–î–æ–≤–≥–µ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –µ–Ω–∫–æ–¥–µ—Ä–∞** ‚Üí –ø—Ä–æ–∫–∞—á–∫–∞
4. **–ë—É–¥—å-—è–∫–∞ –∫–Ω–æ–ø–∫–∞** ‚Üí –∑—É–ø–∏–Ω–∫–∞

---

## üåê –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ WiFi, –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ:

```
http://gyverdrink.local
```

–∞–±–æ IP –∞–¥—Ä–µ—Å—É –ø—Ä–∏—Å—Ç—Ä–æ—é.

### –§—É–Ω–∫—Ü—ñ—ó –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

- üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞–Ω—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- üéõÔ∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–∑–ª–∏–≤–æ–º
- üîã –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞—Ä—è–¥—É –±–∞—Ç–∞—Ä–µ—ó
- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ–±'—î–º—É —Ç–∞ —Ä–µ–∂–∏–º—É
- üîÑ –í–∏–±—ñ—Ä —Ä—é–º–∫–∏
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö

---

## üîå API

### WebSocket

**–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:**
```javascript
ws://192.168.4.1/ws
```

**–û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–∞–Ω—É:**
```json
{
  "status": "Ready",
  "mode": 0,
  "volume": 25,
  "shot": 1,
  "glasses": [true, false, false, false, false],
  "battery": 85,
  "stats": {
    "pours": 42,
    "volume": 1050
  },
  "uptime": 3600,
  "heap": 120000
}
```

**–ö–æ–º–∞–Ω–¥–∏:**
```json
// –ó–º—ñ–Ω–∞ –æ–±'—î–º—É
{"cmd": "volume", "value": 50}

// –ó–º—ñ–Ω–∞ —Ä–µ–∂–∏–º—É (0 = manual, 1 = auto)
{"cmd": "mode", "value": 1}

// –í–∏–±—ñ—Ä —Ä—é–º–∫–∏
{"cmd": "shot", "value": 3}

// –°—Ç–∞—Ä—Ç
{"cmd": "start"}

// –°—Ç–æ–ø
{"cmd": "stop"}
```

### HTTP API

**–û—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å:**
```http
GET /api/status
```

**–°–∫–∏–Ω—É—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:**
```http
POST /api/reset
```

---

## üîß –ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∫–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è

1. –í–≤–µ–¥—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É: `calibrate`
2. –°–ª—ñ–¥—É–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º –Ω–∞ –µ–∫—Ä–∞–Ω—ñ
3. –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä–µ–∂–µ—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

### –†—É—á–Ω–µ –∫–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è

1. –ù–∞–ª–∏–π—Ç–µ **–≤—ñ–¥–æ–º–∏–π –æ–±'—î–º** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 100 –º–ª)
2. –í–∏–º—ñ—Ä—è–π—Ç–µ **—Ñ–∞–∫—Ç–∏—á–Ω–∏–π –æ–±'—î–º**
3. –†–æ–∑—Ä–∞—Ö—É–π—Ç–µ –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç:
```
K = —Ñ–∞–∫—Ç–∏—á–Ω–∏–π_–æ–±'—î–º / –∑–∞–¥–∞–Ω–∏–π_–æ–±'—î–º
```
4. –û–Ω–æ–≤—ñ—Ç—å `PUMP_ML_PER_SEC` –≤ `config.h`

---

## üêõ Troubleshooting

### –î–∏—Å–ø–ª–µ–π –Ω–µ –ø—Ä–∞—Ü—é—î

**ST7789 (LILYGO T4):**
```cpp
// –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ config.h
#define DISPLAY_ST7789
#define TFT_BL 4

// –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ platformio.ini
-DST7789_DRIVER=1
-DTFT_BL=4
```

**OLED:**
```cpp
// –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ I2C –∞–¥—Ä–µ—Å—É (–∑–∞–∑–≤–∏—á–∞–π 0x3C –∞–±–æ 0x3D)
// –î–æ–¥–∞–π—Ç–µ I2C scanner –∫–æ–¥ –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è
```

### WiFi –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è

1. –°–∫–∏–Ω—å—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è: `wifi reset`
2. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –ø—Ä–∏—Å—Ç—Ä—ñ–π
3. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ AP: `GyverDrink-Setup`
4. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–Ω–æ–≤—É

### –ü–æ–º–ø–∞ –Ω–µ –ø—Ä–∞—Ü—é—î

```cpp
// –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ PWM –∫–∞–Ω–∞–ª
ledcSetup(PUMP_CHANNEL, PUMP_FREQ, 8);
ledcAttachPin(PUMP_POWER, PUMP_CHANNEL);

// –¢–µ—Å—Ç –ø–æ–º–ø–∏
ledcWrite(PUMP_CHANNEL, 255);  // –ü–æ–≤–Ω–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å
```

### –°–µ—Ä–≤–æ –Ω–µ —Ä—É—Ö–∞—î—Ç—å—Å—è

```cpp
// –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∂–∏–≤–ª–µ–Ω–Ω—è —Å–µ—Ä–≤–æ
pinMode(SERVO_POWER, OUTPUT);
digitalWrite(SERVO_POWER, HIGH);

// –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ PWM –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
servo.setPeriodHertz(50);
servo.attach(SERVO_PIN, 500, 2500);
```

### –ù–∏–∑—å–∫–∞ –ø–∞–º'—è—Ç—å

```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É –∑–±—ñ—Ä–∫—É
pio run -e lilygo-t4-minimal -t upload

# –ê–±–æ –≤–∏–º–∫–Ω—ñ—Ç—å WiFi –≤ config.h
#define ENABLE_WIFI 0
```

---

## üìä Serial –∫–æ–º–∞–Ω–¥–∏

–ü—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è —á–µ—Ä–µ–∑ Serial Monitor (115200 baud):

```
help        - –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
info        - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Å–∏—Å—Ç–µ–º—É
stats       - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
heap        - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
tasks       - FreeRTOS –∑–∞–¥–∞—á—ñ
reset       - –°–∫–∏–Ω—É—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
restart     - –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏
factory     - –ó–∞–≤–æ–¥—Å—å–∫–µ —Å–∫–∏–¥–∞–Ω–Ω—è
pour X      - –ù–∞–ª–∏—Ç–∏ X –º–ª
calibrate   - –ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è
wifi        - WiFi —Å—Ç–∞—Ç—É—Å
```

---

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –≤—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—è

---

## ü§ù –ü–æ–¥—è–∫–∏

- [GyverLibs](https://github.com/GyverLibs) - –∑–∞ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è
- [LILYGO](https://github.com/Xinyuan-LilyGO) - –∑–∞ —á—É–¥–æ–≤—ñ –ø–ª–∞—Ç–∏
- [FastLED](https://github.com/FastLED/FastLED) - –∑–∞ LED –µ—Ñ–µ–∫—Ç–∏
- [TFT_eSPI](https://github.com/Bodmer/TFT_eSPI) - –∑–∞ —Ä–æ–±–æ—Ç—É –∑ –¥–∏—Å–ø–ª–µ—è–º–∏

üá∫üá¶ **–°–ª–∞–≤–∞ –£–∫—Ä–∞—ó–Ω—ñ! –ì–µ—Ä–æ—è–º –°–ª–∞–≤–∞!** üá∫üá¶
